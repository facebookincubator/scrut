"use strict";(self.webpackChunkstaticdocs_starter=self.webpackChunkstaticdocs_starter||[]).push([[1465],{28453:(e,t,r)=>{r.d(t,{R:()=>c,x:()=>o});var n=r(96540);const i={},s=n.createContext(i);function c(e){const t=n.useContext(s);return n.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function o(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:c(e.components),n.createElement(s.Provider,{value:t},e.children)}},73193:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>a,contentTitle:()=>o,default:()=>h,frontMatter:()=>c,metadata:()=>n,toc:()=>d});const n=JSON.parse('{"id":"reference/behavior/working-directory","title":"Working Directory","description":"By default Scrut executes all tests in a dedicated directory per test document. This means all test cases within one document are being executed in the same directory. The directory is created within the system temporary directory. It will be removed (including all the files or directories that the tests may have created) after all tests in the file are executed - or if the execution of the file fails for any reason.","source":"@site/docs/reference/behavior/working-directory.md","sourceDirName":"reference/behavior","slug":"/reference/behavior/working-directory","permalink":"/scrut/docs/reference/behavior/working-directory","draft":false,"unlisted":false,"editUrl":"https://www.internalfb.com/code/fbsource/fbcode/clifoundation/scrut/website/docs/reference/behavior/working-directory.md","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"STDOUT and STDERR","permalink":"/scrut/docs/reference/behavior/stdout-and-stderr"},"next":{"title":"Custom Shell","permalink":"/scrut/docs/reference/custom-shell"}}');var i=r(74848),s=r(28453);const c={},o="Working Directory",a={},d=[];function l(e){const t={a:"a",admonition:"admonition",code:"code",em:"em",h1:"h1",header:"header",p:"p",pre:"pre",...(0,s.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(t.header,{children:(0,i.jsx)(t.h1,{id:"working-directory",children:"Working Directory"})}),"\n",(0,i.jsxs)(t.p,{children:["By default Scrut executes all tests in a dedicated directory ",(0,i.jsxs)(t.em,{children:["per ",(0,i.jsx)(t.a,{href:"/docs/reference/fundamentals/test-document/",children:"test document"})]}),". This means ",(0,i.jsxs)(t.em,{children:["all ",(0,i.jsx)(t.a,{href:"/docs/reference/fundamentals/test-case/",children:"test cases"})," within one document are being executed in the same directory"]}),". The directory is created within the system temporary directory. It will be removed (including all the files or directories that the tests may have created) after all tests in the file are executed - or if the execution of the file fails for any reason."]}),"\n",(0,i.jsx)(t.p,{children:"This means something like the following can be safely done and will be cleaned up by Scrut after the test finished (however it finishes):"}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-markdown",metastring:'title="test.md"',children:'# Some test that creates a file\n\n```scrut\n$ date > file\n```\n\nThe `file` lives in the current directory\n\n```scrut\n$ test -f "$(pwd)/file"\n```\n'})}),"\n",(0,i.jsxs)(t.p,{children:["The directory within which tests are being executed can be explicitly set using the ",(0,i.jsx)(t.code,{children:"--work-directory"})," parameter for the ",(0,i.jsx)(t.code,{children:"test"})," and ",(0,i.jsx)(t.code,{children:"update"})," commands. If that parameter is set then ",(0,i.jsx)(t.em,{children:"all tests"})," from ",(0,i.jsx)(t.em,{children:"all test files"})," are executed run within that directory, and the directory is ",(0,i.jsx)(t.em,{children:"not removed"})," afterwards."]}),"\n",(0,i.jsx)(t.admonition,{type:"note",children:(0,i.jsxs)(t.p,{children:["Consider also the environment variables ",(0,i.jsx)(t.code,{children:"TESTDIR"})," and ",(0,i.jsx)(t.code,{children:"TMPDIR"})," described in ",(0,i.jsx)(t.a,{href:"/docs/reference/fundamentals/environment-variables/",children:"Reference > Fundamentals > Environment Variables"}),"."]})})]})}function h(e={}){const{wrapper:t}={...(0,s.R)(),...e.components};return t?(0,i.jsx)(t,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}}}]);