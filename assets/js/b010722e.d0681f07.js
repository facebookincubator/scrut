"use strict";(self.webpackChunkstaticdocs_starter=self.webpackChunkstaticdocs_starter||[]).push([[9886],{28453:(t,n,e)=>{e.d(n,{R:()=>i,x:()=>c});var o=e(96540);const s={},r=o.createContext(s);function i(t){const n=o.useContext(r);return o.useMemo((function(){return"function"==typeof t?t(n):{...n,...t}}),[n,t])}function c(t){let n;return n=t.disableParentContext?"function"==typeof t.components?t.components(s):t.components||s:i(t.components),o.createElement(r.Provider,{value:n},t.children)}},51112:(t,n,e)=>{e.d(n,{Ay:()=>c,RM:()=>r});var o=e(74848),s=e(28453);const r=[];function i(t){return(0,o.jsx)(o.Fragment,{})}function c(t={}){const{wrapper:n}={...(0,s.R)(),...t.components};return n?(0,o.jsx)(n,{...t,children:(0,o.jsx)(i,{...t})}):i()}},82162:(t,n,e)=>{e.r(n),e.d(n,{assets:()=>l,contentTitle:()=>a,default:()=>h,frontMatter:()=>c,metadata:()=>o,toc:()=>u});const o=JSON.parse('{"id":"integration/github-action","title":"Scrut in GitHub Action","description":"Currently there is no official Scrut GitHub Action, but you can manually run Scrut. Following an example how that can look like:","source":"@site/docs/integration/github-action.md","sourceDirName":"integration","slug":"/integration/github-action","permalink":"/scrut/docs/integration/github-action","draft":false,"unlisted":false,"editUrl":"https://www.internalfb.com/code/fbsource/fbcode/clifoundation/scrut/website/docs/integration/github-action.md","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Dotslash and Version Pinning","permalink":"/scrut/docs/integration/dotslash"},"next":{"title":"Environment Variables","permalink":"/scrut/docs/reference/fundamentals/environment-variables"}}');var s=e(74848),r=e(28453),i=e(51112);const c={},a="Scrut in GitHub Action",l={},u=[...i.RM];function d(t){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,r.R)(),...t.components},{FbInternalOnly:e}=n;return e||function(t,n){throw new Error("Expected "+(n?"component":"object")+" `"+t+"` to be defined: you likely forgot to import, pass, or provide it.")}("FbInternalOnly",!0),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"scrut-in-github-action",children:"Scrut in GitHub Action"})}),"\n",(0,s.jsx)(e,{children:(0,s.jsx)(i.Ay,{})}),"\n",(0,s.jsx)(n.p,{children:"Currently there is no official Scrut GitHub Action, but you can manually run Scrut. Following an example how that can look like:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Runs on push and on PRs"}),"\n",(0,s.jsx)(n.li,{children:"Checks out the current code"}),"\n",(0,s.jsxs)(n.li,{children:["Installs ",(0,s.jsx)(n.a,{href:"/docs/integration/dotslash/",children:"DotSlash"})]}),"\n",(0,s.jsx)(n.li,{children:"Downloads a pinned version of Scrut"}),"\n",(0,s.jsxs)(n.li,{children:["Runs all test documents in the ",(0,s.jsx)(n.code,{children:"my-test-folder/"})," directory with Scrut"]}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-yaml",metastring:'title=".github/workflows/scrut-tests.yml" showLineNumbers',children:"name: Scrut Tests\non: [push, pull_request]\n\njobs:\n  scrut-tests:\n    runs-on: ubuntu-latest\n    steps:\n      - name: Checkout Code\n        uses: actions/checkout@v3\n      - name: Setup DotSlash\n        uses: facebook/install-dotslash@latest\n      - name: Download Scrut DotSlash Wrapper\n        env:\n          SCRUT_VERSION: v0.3.0\n        run: |\n          curl --proto '=https' --tlsv1.2 -LsSf \\\n            \"https://github.com/facebookincubator/scrut/releases/download/$SCRUT_VERSION/scrut\" \\\n            > scrut\n          chmod +x scrut\n      - name: Run Scrut Tests\n        run: ./scrut test my-test-folder/\n"})}),"\n",(0,s.jsx)(n.admonition,{type:"note",children:(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["If you wish to use the latest version of Scrut, instead of a pinned one, use the URL ",(0,s.jsx)(n.code,{children:"https://github.com/facebookincubator/scrut/releases/latest/download/scrut"})," instead."]}),"\n",(0,s.jsx)(n.li,{children:"You could, of course, download and unpack the Scrut binary directly, but then you have to consider the OS (DotSlash does this for you) and it will be slightly more boilerplate code."}),"\n"]})})]})}function h(t={}){const{wrapper:n}={...(0,r.R)(),...t.components};return n?(0,s.jsx)(n,{...t,children:(0,s.jsx)(d,{...t})}):d(t)}}}]);