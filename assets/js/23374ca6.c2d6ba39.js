(self.webpackChunkstaticdocs_starter=self.webpackChunkstaticdocs_starter||[]).push([[2278],{8211:e=>{e.exports={customFields:{fbRepoName:"fbsource",ossRepoPath:"fbcode/clifoundation/scrut/website",ossRepoUrl:"https://github.com/facebookincubator/scrut"}}},27403:(e,t,n)=>{"use strict";n.r(t),n.d(t,{assets:()=>d,contentTitle:()=>c,default:()=>u,frontMatter:()=>a,metadata:()=>s,toc:()=>l});const s=JSON.parse('{"id":"README","title":"What is Scrut?","description":"Scrut is a CLI testing toolkit designed to rigorously test terminal programs. It is inspired by Cram and focuses on providing a straightforward way to validate CLI behavior.","source":"@site/docs/README.md","sourceDirName":".","slug":"/","permalink":"/scrut/docs/","draft":false,"unlisted":false,"editUrl":"https://www.internalfb.com/code/fbsource/fbcode/clifoundation/scrut/website/docs/README.md","tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"sidebar_position":1},"sidebar":"tutorialSidebar","next":{"title":"Getting Started","permalink":"/scrut/docs/getting-started/"}}');var i=n(74848),r=n(28453),o=n(8211);const a={sidebar_position:1},c="What is Scrut?",d={},l=[{value:"Getting Started",id:"getting-started",level:2},{value:"Contribute",id:"contribute",level:2},{value:"License",id:"license",level:2}];function h(e){const t={a:"a",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components},{FbInternalOnly:n,OssOnly:s}=t;return n||m("FbInternalOnly",!0),s||m("OssOnly",!0),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(t.header,{children:(0,i.jsx)(t.h1,{id:"what-is-scrut",children:"What is Scrut?"})}),"\n",(0,i.jsxs)(t.p,{children:["Scrut is a CLI testing toolkit designed to rigorously test terminal programs. It is inspired by ",(0,i.jsx)(t.a,{href:"https://github.com/brodie/cram",children:"Cram"})," and focuses on providing a straightforward way to validate CLI behavior."]}),"\n",(0,i.jsx)(t.h1,{id:"why-though",children:"Why though?"}),"\n",(0,i.jsx)(t.p,{children:"Testing command-line interfaces (CLIs) can be challenging. While unit tests are essential for verifying business logic, they often fall short in testing interactions with the environment, such as command line inputs, environment variables, and external APIs."}),"\n",(0,i.jsx)(t.p,{children:"CLIs vary widely in complexity, from simple shell scripts automating repetitive tasks to large applications with multiple sub-commands. A robust testing framework should accommodate this diversity."}),"\n",(0,i.jsx)(t.p,{children:"Scrut is a tool designed for functional, integration, end-to-end, and black-box testing of CLIs. It supports a flexible syntax to validate the behavior of CLIs, regardless of their complexity or the programming language used (e.g., Rust, Java, Ruby, C++, Typescript)."}),"\n",(0,i.jsx)(t.p,{children:"Scrut's key features include:"}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.strong,{children:"Low Threshold"}),": Easy to learn, with minimal entry barriers."]}),"\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.strong,{children:"Low Effort"}),": Simplifies writing tests for even small CLI scripts."]}),"\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.strong,{children:"Low Maintenance"}),": Ensures tests remain relevant and easy to update."]}),"\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.strong,{children:"Readable"}),": Provides documentation value through clear test cases."]}),"\n"]}),"\n",(0,i.jsx)(t.h1,{id:"how-then",children:"How then?"}),"\n",(0,i.jsxs)(t.p,{children:["The ",(0,i.jsx)(t.code,{children:"scrut"})," command line application executes tests of CLIs that are persisted in Markdown (",(0,i.jsx)(t.code,{children:".md"}),") or Cram (",(0,i.jsx)(t.code,{children:".t"}),") files."]}),"\n",(0,i.jsx)(t.p,{children:"This is a markdown document that contains a test case:"}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-markdown",metastring:'title="my-test-document.md" showLineNumbers',children:"# Scrut Tests are Markdown Documents\n\nWrite tests in code-blocks with the `scrut` language where you validate that\nthe output of a command matches your expectations.\n\n## Version is printed\n\n```scrut\n$ acme --version\nacme 1.0.0\n```\n\nThere is plenty space to note down your intentions and whatever context you\nwant to provide to make this test maintainable.\n"})}),"\n",(0,i.jsxs)(t.p,{children:["Assuming the ",(0,i.jsx)(t.code,{children:"acme"})," CLI is in your ",(0,i.jsx)(t.code,{children:"PATH"})," then you can run the test with:"]}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-bash",metastring:'title="Terminal"',children:"$ scrut test my-test-document.md\n\ud83d\udd0e Found 1 test document(s)\n\nResult: 1 document(s) with 1 testcase(s): 1 succeeded, 0 failed and 0 skipped\n"})}),"\n",(0,i.jsxs)(t.p,{children:["That is assuming ",(0,i.jsx)(t.code,{children:"acme --version"})," prints ",(0,i.jsx)(t.code,{children:"acme 1.0.0"}),"."]}),"\n",(0,i.jsxs)(n,{children:[(0,i.jsx)(t.h2,{id:"getting-started",children:"Getting Started"}),(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsx)(t.li,{children:(0,i.jsx)(t.a,{href:"/docs/tutorial/",children:"Open Source Tutorial"})}),"\n",(0,i.jsx)(t.li,{children:(0,i.jsx)(t.a,{href:"/docs/fb/getting-started/",children:"Getting Started in Meta"})}),"\n"]})]}),"\n",(0,i.jsxs)(s,{children:[(0,i.jsxs)(t.p,{children:["Head over to the ",(0,i.jsx)(t.a,{href:"/docs/getting-started/",children:"Getting Started Guide"})," to get learn how to write your own tests and everything else you need to know."]}),(0,i.jsx)(t.h2,{id:"contribute",children:"Contribute"}),(0,i.jsxs)("ul",{children:[(0,i.jsx)("li",{children:(0,i.jsx)("a",{href:o.customFields.ossRepoUrl+"/blob/main/CONTRIBUTING.md",children:"CONTRIBUTING.md"})}),(0,i.jsx)("li",{children:(0,i.jsx)("a",{href:o.customFields.ossRepoUrl+"/blob/main/CODE_OF_CONDUCT.md",children:"CODE_OF_CONDUCT.md"})})]}),(0,i.jsx)(t.h2,{id:"license",children:"License"}),(0,i.jsx)("ul",{children:(0,i.jsx)("li",{children:(0,i.jsx)("a",{href:o.customFields.ossRepoUrl+"/blob/main/LICENSE",children:"LICENSE"})})})]})]})}function u(e={}){const{wrapper:t}={...(0,r.R)(),...e.components};return t?(0,i.jsx)(t,{...e,children:(0,i.jsx)(h,{...e})}):h(e)}function m(e,t){throw new Error("Expected "+(t?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}},28453:(e,t,n)=>{"use strict";n.d(t,{R:()=>o,x:()=>a});var s=n(96540);const i={},r=s.createContext(i);function o(e){const t=s.useContext(r);return s.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function a(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:o(e.components),s.createElement(r.Provider,{value:t},e.children)}}}]);