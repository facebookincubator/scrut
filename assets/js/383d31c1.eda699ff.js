"use strict";(self.webpackChunkstaticdocs_starter=self.webpackChunkstaticdocs_starter||[]).push([[7395],{21588:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>l,default:()=>h,frontMatter:()=>a,metadata:()=>r,toc:()=>d});const r=JSON.parse('{"id":"tutorial/index","title":"In-Depth Tutorial","description":"This tutorial assumes you have installed Scrut and learned the very basics of the command line. Building on that, you will learn all that you need to write meaningful tests for your own CLI(s).","source":"@site/docs/tutorial/index.md","sourceDirName":"tutorial","slug":"/tutorial/","permalink":"/scrut/docs/tutorial/","draft":false,"unlisted":false,"editUrl":"https://www.internalfb.com/code/fbsource/fbcode/clifoundation/scrut/website/docs/tutorial/index.md","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"First Steps","permalink":"/scrut/docs/getting-started/first-steps"},"next":{"title":"What to test?","permalink":"/scrut/docs/tutorial/what-to-test"}}');var s=n(74848),o=n(28453),i=n(56967);const a={},l="In-Depth Tutorial",c={},d=[...i.RM,{value:"About File Structure",id:"about-file-structure",level:2},{value:"Using <code>jq</code> as an Example",id:"using-jq-as-an-example",level:2}];function u(e){const t={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,o.R)(),...e.components},{FbInternalOnly:n}=t;return n||function(e,t){throw new Error("Expected "+(t?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("FbInternalOnly",!0),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(t.header,{children:(0,s.jsx)(t.h1,{id:"in-depth-tutorial",children:"In-Depth Tutorial"})}),"\n",(0,s.jsx)(n,{children:(0,s.jsx)(i.Ay,{})}),"\n",(0,s.jsx)(t.admonition,{type:"info",children:(0,s.jsxs)(t.p,{children:["This tutorial assumes you have ",(0,s.jsx)(t.a,{href:"/docs/getting-started/",children:"installed Scrut and learned the very basics of the command line"}),". Building on that, you will learn all that you need to write meaningful tests for your own CLI(s)."]})}),"\n",(0,s.jsx)(t.p,{children:"This guide is written with the following target audiences in mind:"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.strong,{children:"CLI owners / contributors"}),", that care about the quality of a specific CLI and therefore want to","\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsx)(t.li,{children:"Validate the behavior of the CLI in the form of integration / end-to-end tests tests"}),"\n",(0,s.jsx)(t.li,{children:"Document the CLI behavior for themselves of future developers of the CLI"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.strong,{children:"System administrators / operators"}),", that care about the CLI tools they work with and need to","\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsx)(t.li,{children:"Verify assumptions about their CLI tools"}),"\n",(0,s.jsx)(t.li,{children:"Document behavior of their CLI tools for themselves or future generations"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(t.h2,{id:"about-file-structure",children:"About File Structure"}),"\n",(0,s.jsxs)(t.p,{children:["Scrut does not require any particular file structure. This tutorial is assuming that the files would be stored in a ",(0,s.jsx)(t.code,{children:"tests"})," subdirectory together with the source code of the CLI that is being tested."]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-bash",children:"# Go to the directory where your CLI code lives\n$ cd ~/Projects/MyCLI\n\n# create a test folder\n$ mkdir tests\n"})}),"\n",(0,s.jsx)(t.admonition,{type:"tip",children:(0,s.jsx)(t.p,{children:"Although Scrut has no requirements towards file structure it is recommended that test relating files (like test fixtures, more about that later) are in the same directory structure as the test files themselves. This will make referencing them easier."})}),"\n",(0,s.jsxs)(t.h2,{id:"using-jq-as-an-example",children:["Using ",(0,s.jsx)(t.code,{children:"jq"})," as an Example"]}),"\n",(0,s.jsxs)(t.p,{children:["Since Scrut is a CLI testing framework we need a CLI to test. Hence this tutorial will use the ",(0,s.jsxs)(t.a,{href:"https://jqlang.org/",children:["powerful ",(0,s.jsx)(t.code,{children:"jq"})," command-line JSON processor CLI"]})," as an example CLI to write tests for. Make sure you have it ",(0,s.jsx)(t.a,{href:"https://jqlang.org/download/",children:"installed"})," if you want to follow along."]})]})}function h(e={}){const{wrapper:t}={...(0,o.R)(),...e.components};return t?(0,s.jsx)(t,{...e,children:(0,s.jsx)(u,{...e})}):u(e)}},28453:(e,t,n)=>{n.d(t,{R:()=>i,x:()=>a});var r=n(96540);const s={},o=r.createContext(s);function i(e){const t=r.useContext(o);return r.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function a(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:i(e.components),r.createElement(o.Provider,{value:t},e.children)}},56967:(e,t,n)=>{n.d(t,{Ay:()=>a,RM:()=>o});var r=n(74848),s=n(28453);const o=[];function i(e){return(0,r.jsx)(r.Fragment,{})}function a(e={}){const{wrapper:t}={...(0,s.R)(),...e.components};return t?(0,r.jsx)(t,{...e,children:(0,r.jsx)(i,{...e})}):i()}}}]);