<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-reference/fundamentals/test-output" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.8.0">
<title data-rh="true">Test Output | Scrut</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://internalfb.com/scrut/docs/reference/fundamentals/test-output/"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Test Output | Scrut"><meta data-rh="true" name="description" content="Executing a test document with Scrut results either in success (when all expectations in the test match) or failure (when at least one expectation in the test document does not match)."><meta data-rh="true" property="og:description" content="Executing a test document with Scrut results either in success (when all expectations in the test match) or failure (when at least one expectation in the test document does not match)."><link data-rh="true" rel="icon" href="/scrut/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://internalfb.com/scrut/docs/reference/fundamentals/test-output/"><link data-rh="true" rel="alternate" href="https://internalfb.com/scrut/docs/reference/fundamentals/test-output/" hreflang="en"><link data-rh="true" rel="alternate" href="https://internalfb.com/scrut/docs/reference/fundamentals/test-output/" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Test Output","item":"https://internalfb.com/scrut/docs/reference/fundamentals/test-output"}]}</script><link rel="stylesheet" href="/scrut/assets/css/styles.15036de8.css">
<script src="/scrut/assets/js/runtime~main.be183810.js" defer="defer"></script>
<script src="/scrut/assets/js/main.898035bd.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg xmlns="http://www.w3.org/2000/svg" style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t="light";var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",e||t),document.documentElement.setAttribute("data-theme-choice",e||t)}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script>
<div style="display: none; text-align: center; background-color: white; color: black;" id="internaldocs-banner"></div><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/scrut/"><div class="navbar__logo"><img src="/scrut/img/logo.svg" alt="Scrut Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/scrut/img/logo.svg" alt="Scrut Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Scrut</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/scrut/docs/">Docs</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a href="https://github.com/facebookincubator/scrut" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><div class="navbar__search"><span aria-label="expand searchbar" role="button" class="search-icon" tabindex="0"></span><input id="search_input_react" type="search" placeholder="Loading..." aria-label="Search" class="navbar__search-input search-bar" disabled=""></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/scrut/docs/">What is Scrut?</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link" href="/scrut/docs/getting-started/">Getting Started</a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/scrut/docs/getting-started/installation/">Installation</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/scrut/docs/getting-started/first-steps/">First Steps</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link" href="/scrut/docs/tutorial/">In-Depth Tutorial</a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/scrut/docs/tutorial/what-to-test/">What to test?</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/scrut/docs/tutorial/create-test/">Test Creation</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/scrut/docs/tutorial/basic-expectations/">Basic Expectations</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/scrut/docs/tutorial/output-expectations/">Output Expectations</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/scrut/docs/tutorial/test-environment/">Test Environment</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/scrut/docs/tutorial/test-configuration/">Test Configuration</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/scrut/docs/tutorial/test-bootstrapping/">Test Bootstrapping</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/scrut/docs/tutorial/test-maintenance/">Test Maintenance</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/scrut/docs/tutorial/next-up/">Next Up</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/scrut/docs/integration/docker/">Integration</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/scrut/docs/reference/fundamentals/environment-variables/">Reference</a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--active" tabindex="0">Fundamentals</a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/scrut/docs/reference/fundamentals/environment-variables/">Environment Variables</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/scrut/docs/reference/fundamentals/inline-configuration/">Inline Configuration</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/scrut/docs/reference/fundamentals/output-expectations/">Output Expectations</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/scrut/docs/reference/fundamentals/shell-expression/">Shell Expressions</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/scrut/docs/reference/fundamentals/test-case/">Test Case</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/scrut/docs/reference/fundamentals/test-document/">Test Document</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/scrut/docs/reference/fundamentals/test-output/">Test Output</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link" tabindex="0">Formats</a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/scrut/docs/reference/formats/cram-format/">Cram Format</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/scrut/docs/reference/formats/markdown-format/">Markdown Format</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link" tabindex="0">Behavior</a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/scrut/docs/reference/behavior/execution-model/">Execution Model</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/scrut/docs/reference/behavior/exit-codes/">Exit Codes</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/scrut/docs/reference/behavior/newline-handling/">Newline handling</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/scrut/docs/reference/behavior/stdout-and-stderr/">STDOUT and STDERR</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/scrut/docs/reference/behavior/working-directory/">Working Directory</a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/scrut/docs/reference/custom-shell/">Custom Shell</a></li></ul></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/scrut/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Reference</span></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Fundamentals</span></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">Test Output</span></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Test Output</h1></header>
<p>Executing a test document with Scrut results either in success (when all expectations in the test match) or failure (when at least one expectation in the test document does not match).</p>
<p>Scrut supports multiple <em>output renderers</em>, which yield a different representation of these test results.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="pretty-renderer-default">Pretty Renderer (default)<a href="#pretty-renderer-default" class="hash-link" aria-label="Direct link to Pretty Renderer (default)" title="Direct link to Pretty Renderer (default)">​</a></h2>
<p>Scrut will always tell you what it did:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_OeMC">Terminal</div><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token scrut-command-line-start">$ </span><span class="token scrut-command-line-content">scrut test selftest/cases/regex.md</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">🔎 Found </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"> </span><span class="token builtin class-name">test</span><span class="token plain"> document</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">s</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token scrut-result-output-summary-line-start">Result</span><span class="token builtin class-name">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"> document</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">s</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> with </span><span class="token number" style="color:#36acaa">10</span><span class="token plain"> testcase</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">s</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">: </span><span class="token number" style="color:#36acaa">10</span><span class="token plain"> succeeded, </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"> failed and </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"> skipped</span><br></span></code></pre></div></div>
<p>In case of failure the <code>pretty</code> default renderer will provide a human-readable output that points you to the problem with the output:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_OeMC">Terminal</div><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token scrut-command-line-start">$ </span><span class="token scrut-command-line-content">scrut test a-failing-test.md</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">🔎 Found </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"> </span><span class="token builtin class-name">test</span><span class="token plain"> document</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">s</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">❌ /tmp/test.md: failed </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"> out of </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"> testcase</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// </span><span class="token scrut-result-output-decoration">=============================================================================</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// </span><span class="token scrut-result-output-file">@ a-failing-test.md:10</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// </span><span class="token scrut-result-output-decoration">-----------------------------------------------------------------------------</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// </span><span class="token scrut-result-output-title"># One conjunct expression</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// </span><span class="token scrut-result-output-decoration">-----------------------------------------------------------------------------</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// </span><span class="token scrut-result-output-shell-expression">$ echo Foo &amp;&amp; \</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//   </span><span class="token builtin class-name">echo</span><span class="token plain"> Bar</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// </span><span class="token scrut-result-output-decoration">=============================================================================</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">1</span><span class="token plain">  </span><span class="token number" style="color:#36acaa">1</span><span class="token plain">  </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">   Foo</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token scrut-result-output-unexpected-line">   2  | - BAR</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token scrut-result-output-expected-line">2     | + Bar</span><span class="token scrut-result-output-expected-line"></span><br></span><span class="token-line" style="color:#393A34"><span class="token scrut-result-output-expected-line">3     | + Baz</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token scrut-result-output-summary-line-start">Result</span><span class="token builtin class-name">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"> document</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">s</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> with </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"> testcase</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">s</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">: </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"> succeeded, </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"> failed and </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"> skipped</span><br></span></code></pre></div></div>
<p>The failure output consists of two components:</p>
<ol>
<li>The failure header, which consists of all initial lines that start with <code>//</code>, indicates the position</li>
<li>The failure body, which consists of all the following lines, indicates the problem</li>
</ol>
<p><strong>Header</strong></p>
<p>The header contains three relevant information. Given the above output:</p>
<ul>
<li><code>@ a-failing-test.md:10</code>, tells you that the test that failed is in the provided document <code>a-failing-test.md</code> and that the <a href="/scrut/docs/reference/fundamentals/shell-expression/">shell expression</a> (that failed the test) starts in line ten of that file.</li>
<li><code># &lt;test title&gt;</code>, gives you the optional title of the test in the document. <em>If the test does not have a title, this line is omitted.</em></li>
<li><code>$ &lt;test command&gt;</code>, is the <a href="/scrut/docs/reference/fundamentals/shell-expression/">shell expression</a> from the <a href="/scrut/docs/reference/fundamentals/test-document/">test document</a> that is tested and that has failed.</li>
</ul>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_BuS1"><p>See <a href="/scrut/docs/reference/fundamentals/test-case/">Reference &gt; Fundamentals &gt; Test Case</a>) to learn more about test case anatomy.</p></div></div>
<p><strong>Body</strong></p>
<p>There are two possible variants that the <code>diff</code> renderer may return:</p>
<ol>
<li>Failed <a href="/scrut/docs/reference/fundamentals/output-expectations/">output expectations</a></li>
<li>Failed <a href="/scrut/docs/reference/behavior/exit-codes/">exit code expectation</a></li>
</ol>
<p>The above output is a failed <a href="/scrut/docs/reference/fundamentals/output-expectations/">output expectations</a> and you can read it as following:</p>
<ul>
<li><code>1  1  |   Foo</code>: This line was printed as expected. The left hand <code>1</code> is the number of the output line and the right hand <code>1</code> is the number of the expectation.</li>
<li><code>   2  | - BAR</code>: This line was expected, but not printed. The left hand omitted number indicates that it was not found in output. The right hand number tells that this is the second expectation. The <code>-</code> before the line <code>Bar</code> emphasizes that this is a missed expectation.</li>
<li><code>2     | + Bar</code>: This line was printed and expected. The left hand <code>2</code> is the number of the output line and the right hand <code>3</code> is the number of the expectation.</li>
<li><code>3     | + Baz</code>: This line was printed unexpectedly. The left hand <code>3</code> is the number of the output line the omitted right hand number implies there is no expectation that covers it. The <code>+</code> before the line <code>Zoing</code> emphasizes that this is a &quot;surplus&quot; line.</li>
</ul>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_BuS1"><p>If you work with test files that contain a large amount of tests, then you may want to use the <code>--absolute-line-numbers</code> flag on the command line: instead of printing the relative line number for each test, as described above, it prints absolute line numbers from within the test file. Assuming the <code>Foo</code> expectation from above is in line 10 of a file, it would read <code>13  13  |   Foo</code> - and all subsequent output liens with respective aligned line numbers.</p></div></div>
<p>An example for the body of an <em>exit code expectation</em>:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">unexpected exit code</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  expected: 2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  actual:   0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">## STDOUT</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#&gt; Foo</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">## STDERR</span><br></span></code></pre></div></div>
<p>This should be mostly self-explanatory. Scrut does not provide any <a href="/scrut/docs/reference/fundamentals/output-expectations/">output expectation</a> failures, because it assumes that when the exit code is different, then it is highly likely that the output is very different - and even if not, it would not matter, as it failed anyway.</p>
<p>The tailing <code>## STDOUT</code> and <code>## STDERR</code> contain the output lines (prefixed with <code>#&gt; </code>) that were printed out from the failed execution.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="multiline-matches">Multiline Matches<a href="#multiline-matches" class="hash-link" aria-label="Direct link to Multiline Matches" title="Direct link to Multiline Matches">​</a></h3>
<p>If you use output expectations with a <a href="/scrut/docs/reference/fundamentals/output-expectations/#quantifiers">quantifier</a> that allows for multiline matches then Scrut will print the output lines that match the expectation. For example, consider the following test:</p>
<div class="language-markdown codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_OeMC">some-test.md</div><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-markdown codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm" style="counter-reset:line-count 0"><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token title important punctuation" style="color:#393A34">#</span><span class="token title important"> Some test</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token code scrut-code-block">```scrut</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token code scrut-code-block"></span><span class="token code scrut-shell-expression">$ echo -e &quot;foo\nbar1\nbar2\nbar3\nbar4\nbaz&quot;</span><span class="token code"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token code"></span><span class="token code scrut-output-expectation">bar* </span><span class="token code scrut-rule-type">(glob+)</span><span class="token code"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token code"></span><span class="token code scrut-output-expectation">```</span></span><br></span></code></pre></div></div>
<p>This test will fail, because <code>bar* (glob+)</code> does not mach the first or the last line. The failed output will look like this:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_OeMC">Terminal</div><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token scrut-command-line-start">$ </span><span class="token scrut-command-line-content">scrut test some-test.md</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">🔎 Found </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"> </span><span class="token builtin class-name">test</span><span class="token plain"> document</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">s</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">❌ some-test.md: failed </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"> out of </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"> testcase</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// </span><span class="token scrut-result-output-decoration">=============================================================================</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// </span><span class="token scrut-result-output-file">@ some-test.md:4</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// </span><span class="token scrut-result-output-decoration">-----------------------------------------------------------------------------</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// </span><span class="token scrut-result-output-title"># Some test</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// </span><span class="token scrut-result-output-decoration">-----------------------------------------------------------------------------</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// </span><span class="token scrut-result-output-shell-expression">$ echo -e &quot;foo\nbar1\nbar2\nbar3\nbar4\nbaz&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// </span><span class="token scrut-result-output-decoration">=============================================================================</span><span class="token scrut-result-output-expected-line"></span><br></span><span class="token-line" style="color:#393A34"><span class="token scrut-result-output-expected-line"></span><br></span><span class="token-line" style="color:#393A34"><span class="token scrut-result-output-expected-line">   1  | + foo</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">1</span><span class="token plain">+ </span><span class="token number" style="color:#36acaa">2</span><span class="token plain">  </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">   bar1  // bar* </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">glob+</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> + </span><span class="token number" style="color:#36acaa">3</span><span class="token plain">  </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">   bar2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> + </span><span class="token number" style="color:#36acaa">4</span><span class="token plain">  </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">   bar3</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> + </span><span class="token number" style="color:#36acaa">5</span><span class="token plain">  </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">   bar4</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token scrut-result-output-expected-line">   6  | + baz</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token scrut-result-output-summary-line-start">Result</span><span class="token builtin class-name">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"> document</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">s</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> with </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"> testcase</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">s</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">: </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"> succeeded, </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"> failed and </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"> skipped</span><br></span></code></pre></div></div>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_BuS1"><p>The amount of lines that are printed is controlled by the <code>--multiline-match-lines</code> flag. The default is <code>100</code> to strike a balance between meaningful output and flooding the terminal. If more lines than that are produced then only the first 50 and last 50 lines are printed, with a hint that there are more lines in between:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_OeMC">Terminal</div><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token scrut-command-line-start">$ </span><span class="token scrut-command-line-content">scrut test --max-multiline-matched-lines=2 some-test.md</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">🔎 Found </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"> </span><span class="token builtin class-name">test</span><span class="token plain"> document</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">s</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">❌ some-test.md: failed </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"> out of </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"> testcase</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// </span><span class="token scrut-result-output-decoration">=============================================================================</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// </span><span class="token scrut-result-output-file">@ some-test.md:4</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// </span><span class="token scrut-result-output-decoration">-----------------------------------------------------------------------------</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// </span><span class="token scrut-result-output-title"># Some test</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// </span><span class="token scrut-result-output-decoration">-----------------------------------------------------------------------------</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// </span><span class="token scrut-result-output-shell-expression">$ echo -e &quot;foo\nbar1\nbar2\nbar3\nbar4\nbaz&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// </span><span class="token scrut-result-output-decoration">=============================================================================</span><span class="token scrut-result-output-expected-line"></span><br></span><span class="token-line" style="color:#393A34"><span class="token scrut-result-output-expected-line"></span><br></span><span class="token-line" style="color:#393A34"><span class="token scrut-result-output-expected-line">   1  | + foo</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">1</span><span class="token plain">+ </span><span class="token number" style="color:#36acaa">2</span><span class="token plain">  </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">   bar1  // bar* </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">glob+</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> +    </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> …</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> + </span><span class="token number" style="color:#36acaa">5</span><span class="token plain">  </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">   bar4</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token scrut-result-output-expected-line">   6  | + baz</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token scrut-result-output-summary-line-start">Result</span><span class="token builtin class-name">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"> document</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">s</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> with </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"> testcase</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">s</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">: </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"> succeeded, </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"> failed and </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"> skipped</span><br></span></code></pre></div></div><p>If you set <code>--multiline-match-lines</code> to less or equal <code>1</code> then Scrut will not print any lines that match the expectation, but only the expectation itself:</p><div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">   1  | + foo</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">1+ +  |   bar* (glob+)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   6  | + baz</span><br></span></code></pre></div></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="diff-renderer">Diff renderer<a href="#diff-renderer" class="hash-link" aria-label="Direct link to Diff renderer" title="Direct link to Diff renderer">​</a></h2>
<p>The <code>diff</code> renderer, that can be enabled with <code>--renderer diff</code> (or <code>-r diff</code>), prints a diff in the <a href="https://en.wikipedia.org/wiki/Diff#Unified_format" target="_blank" rel="noopener noreferrer">unified format</a>.</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_OeMC">Terminal</div><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token scrut-command-line-start">$ </span><span class="token scrut-command-line-content">scrut test -r diff a-failing-test.md</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">🔎 Found </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"> </span><span class="token builtin class-name">test</span><span class="token plain"> document</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">s</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">❌ a-failing-test.md: failed </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"> out of </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"> testcase</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--- a-failing-test.md</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+++ a-failing-test.md.new</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">@@ </span><span class="token parameter variable" style="color:#36acaa">-14</span><span class="token plain"> +14,2 @@ malformed output: One conjunct expression</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token parameter variable" style="color:#36acaa">-BAR</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+Bar</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+Baz</span><br></span></code></pre></div></div>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_BuS1"><p>The created diff is compatible with the <code>patch</code> command line tool (e.g. <code>patch -p0 &lt; &lt;(scrut test -r diff a-failing-test.md)</code>). This is mostly equivalent to using the <code>scrut update</code> command.</p></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="json-and-yaml-renderer">JSON and YAML renderer<a href="#json-and-yaml-renderer" class="hash-link" aria-label="Direct link to JSON and YAML renderer" title="Direct link to JSON and YAML renderer">​</a></h2>
<p>These renderer are primarily intended for automation and are to be <strong>considered experimental</strong>.
You can explore them using <code>--renderer yaml</code> or respective <code>--renderer json</code>.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://www.internalfb.com/code/fbsource/fbcode/clifoundation/scrut/website/docs/reference/fundamentals/test-output.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/scrut/docs/reference/fundamentals/test-document/"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Test Document</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/scrut/docs/reference/formats/cram-format/"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Cram Format</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#pretty-renderer-default" class="table-of-contents__link toc-highlight">Pretty Renderer (default)</a><ul><li><a href="#multiline-matches" class="table-of-contents__link toc-highlight">Multiline Matches</a></li></ul></li><li><a href="#diff-renderer" class="table-of-contents__link toc-highlight">Diff renderer</a></li><li><a href="#json-and-yaml-renderer" class="table-of-contents__link toc-highlight">JSON and YAML renderer</a></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Legal</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://opensource.fb.com/legal/terms" target="_blank" rel="noopener noreferrer" class="footer__link-item">Terms of Use</a></li><li class="footer__item"><a href="https://opensource.fb.com/legal/privacy" target="_blank" rel="noopener noreferrer" class="footer__link-item">Privacy Policy</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025 Meta Platforms, Inc</div></div></div></footer></div>
</body>
</html>